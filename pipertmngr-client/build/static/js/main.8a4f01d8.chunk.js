(this["webpackJsonppipertmngr-client"]=this["webpackJsonppipertmngr-client"]||[]).push([[0],{167:function(e,t,n){e.exports=n(248)},172:function(e,t,n){},219:function(e,t,n){},248:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(8),i=n.n(o),s=(n(172),n(16)),l=n(17),c=n(90),u=n(18),p=n(19),m=n(56),d=n(100),g=n(27),h=n(3),f=n(273),E=n(32),b=n(275),v=n(276),S=n(277),O=n(279),C=n(38),y=n(278),R=n(280),N=n(281);function I(e){var t=e.sideBarWidth?e.sideBarWidth:240,n=Object(f.a)((function(e){return{greeting:{marginTop:"0.2em"},pipelinePic:{height:"3em"},topBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},topBarShift:{marginLeft:t,width:"calc(100% - ".concat(t,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{display:"block"},hide:{display:"none"},isAlive:{fontFamily:"Roboto Thin"},wifiOn:{marginTop:"0.1em",fill:"white"},wifiOff:{marginTop:"0.1em",fill:"black"}}}))();Object(E.a)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{position:"fixed",className:Object(h.default)(n.topBar,Object(g.a)({},n.topBarShift,e.isSideBarOpen))},r.a.createElement(v.a,null,r.a.createElement(S.a,{className:Object(h.default)(n.menuButton,Object(g.a)({},n.hide,e.isSideBarOpen)),edge:"start",color:"inherit","aria-label":"menu",onClick:e.toggleSideBar},r.a.createElement(y.a,null)),r.a.createElement("img",{className:n.pipelinePic,src:"/images/pipeline.png"}),"\xa0\xa0\xa0",r.a.createElement(O.a,{justify:"space-between",container:!0,spacing:10},r.a.createElement(O.a,{item:!0},r.a.createElement(C.a,{variant:"h4"},"PIPELINE MANAGER")),r.a.createElement(O.a,{item:!0},r.a.createElement(C.a,{className:n.greeting,variant:"h5"},e.greeting)),r.a.createElement(O.a,{item:!0},r.a.createElement(C.a,{className:n.isAlive,variant:"h6"},"PIPELINE SERVER IS "+(e.isAlive?"CONNECTED":"DISCONNECTED"),"\xa0",e.isAlive?r.a.createElement(R.a,{className:n.wifiOn}):r.a.createElement(N.a,{className:n.wifiOff})))))),r.a.createElement(v.a,null))}var T=n(15),j=n.n(T),w=n(30),P=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REST_API_URL?Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REST_API_URL:"http://"+window.location.hostname)+":"+(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REST_API_PORT?Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REST_API_PORT:"3000"),F="/isAlive",A="/routines",k="/routineParams",L="/pipeline",D="/kill",B="message_queue",_="out_queue",M="redis_read_key",x="redis_send_key",W={Integer:"Integer",String:"String",QueueRead:"QueueIn",QueueSend:"QueueOut",RedisRead:"RedisIn",RedisSend:"RedisOut"},H={HasToBeFirst:0,HasToBeLast:2},K={isAlive:function(){var e=Object(w.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(P+F));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getRoutineParams:function(){var e=Object(w.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+k+"/"+t);case 2:return n=e.sent,e.abrupt("return",n.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRoutines:function(){var e=Object(w.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(P+A);case 2:return t=e.sent,e.next=5,t.json();case 5:return t=e.sent,e.abrupt("return",t.routines);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),killPipeline:function(){var e=Object(w.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(P+D,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),savePipeline:function(){var e=Object(w.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(P+L,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},U=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).generateGreeting=function(){var e=(new Date).getHours(),t="";e>=4&&e<12&&(t="GOOD MORNING!"),t=e>=12&&e<=16?"GOOD AFTERNOON!":e>=17&&e<=21?"GOOD EVENING!":"GOOD NIGHT!",a.setState({greeting:t})},a.isServerAlive=function(){K.isAlive().then((function(){a.setState({isAlive:!0})})).catch((function(){a.setState({isAlive:!1})}))},a.state={greeting:"",isAlive:!1},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.isServerAlive(),this.generateGreeting(),this.setState({isAliveInterval:setInterval(this.isServerAlive,15e3)})}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.isAliveInterval)}},{key:"render",value:function(){return r.a.createElement(I,{isAlive:this.state.isAlive,isSideBarOpen:this.props.isSideBarOpen,toggleSideBar:this.props.toggleSideBar,greeting:this.state.greeting})}}]),n}(a.Component),z=n(138),Y=n(295),G=n(296),V=n(286),Q=n(298),q=n(315),J=n(314),X=n(297),$=n(299),Z=n(313),ee=n(48),te=n(35),ne=n(283),ae=n(312),re=n(287),oe=n(288),ie=n(289),se=n(290),le=n(284),ce=n(291),ue=n(292),pe=n(293),me=n(294),de={createComponent:function(e,t){var n=Object(te.a)(e),a=t.toString();return n.forEach((function(e){a===e.name&&(a="Copy of "+a)})),n.push({name:a}),n},deleteComponent:function(e,t){return e.filter((function(e){return e.name!==t}))},createRoutine:function(e,t,n){for(var a=Object(te.a)(e),r=null,o=0;o<a.length;o++){var i=a[o];if(t===i.name){i.routines||(i.routines=[]),i.routines.push(n),r=i;break}}return{components:a,updatedComponent:r}},checkForRoutine:function(e,t){if(!e||!e.routines)return!1;for(var n=0;n<e.routines.length;n++)if(e.routines[n].routine_type_name===t)return!0;return!1},checkForRoutineType:function(e,t){if(!e||!e.routines)return!1;for(var n=0;n<e.routines.length;n++)if(e.routines[n].routine_type===t)return!0;return!1},getAllComponentQueues:function(e){var t={QueueIn:[],QueueOut:[]};if(!e||!e.routines)return t;for(var n=0;n<e.routines.length;n++)for(var a=e.routines[n],r=Object.keys(a.params),o=0;o<r.length;o++)r[o]===B?t.QueueIn.push(a.params[r[o]]):r[o]===_&&t.QueueOut.push(a.params[r[o]]);return t},getRedisTypes:function(e){var t={RedisIn:[],RedisOut:[]};if(!e)return t;for(var n=0;n<e.length;n++){var a=e[n].routines;if(a)for(var r=0;r<a.length;r++)for(var o=Object.keys(a[r].params),i=0;i<o.length;i++)o[i]===M?t.RedisIn.push(a[r].params[o[i]]):o[i]===x&&t.RedisOut.push(a[r].params[o[i]])}return t}},ge=n(145);function he(e){var t=Object(f.a)((function(e){return{materialSelect:{width:240,fontFamily:"Roboto, Arial",fontSize:"16px"},genericInput:{marginBottom:"1rem"},numberInput:{marginTop:"16px"},dialogTitle:{borderBottomColor:"black",borderBottomStyle:"solid",borderBottomWidth:"0.01rem"},dialog:{backgroundImage:"url(./images/formImage.jpg)",backgroundSize:"cover",minHeight:"30rem",overflowY:"auto"},dialogActions:{borderTopColor:"black",borderTopStyle:"solid",borderTopWidth:"0.01rem",background:"linear-gradient(90deg, #b2b2b2 0%, white 40%, white 70%)"}}}))();return r.a.createElement(re.a,{className:t.dialogBorder,open:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(oe.a,{className:t.dialogTitle,id:"alert-dialog-title"},"CREATE-A-ROUTINE"),r.a.createElement(ie.a,{className:t.dialog},r.a.createElement(se.a,{id:"alert-dialog-description"},'ENTER THE PARAMETERS FOR "'+(e.routineData&&e.routineData.name+'":')),r.a.createElement(le.a,null,function(){var n=de.getAllComponentQueues(e.selectedComponent),a=n.QueueIn,o=n.QueueOut,i=de.getRedisTypes(e.components),s=i.RedisIn,l=i.RedisOut,c=Object(te.a)(new Set([].concat(Object(te.a)(s),Object(te.a)(l))));return Object.keys(e.routineParams).map((function(n){if(n===x||n===M||n===B||n===_){var i=n===x||n===M;return r.a.createElement("div",{className:t.genericInput},r.a.createElement(ge.SingleSelect,{fullWidth:!1,onChange:function(t){return e.setSelectState(t,n)},className:"".concat(t.materialSelect," ").concat(t.selectMargin),label:n,SelectProps:{isClearable:!0,isCreatable:!0,msgNoOptionsAvailable:"No queues available. Type new queue name...",msgNoOptionsMatchFilter:"No queue matches your query."},options:i?c:n===B?o:a}))}return e.routineParams[n]===W.Integer?r.a.createElement("div",{className:t.genericInput},r.a.createElement(ne.a,{className:t.numberInput,type:"number",onChange:function(t){return e.setInputState(t,n,!0)},placeholder:n})):r.a.createElement("div",{className:t.genericInput},r.a.createElement(ae.a,{onChange:function(t){return e.setInputState(t,n)},label:n}))}))}())),r.a.createElement(ce.a,{className:t.dialogActions},e.notFilledFields.length?r.a.createElement(C.a,{variant:"subtitle2",color:"error"},"Please fill out "+e.notFilledFields.join(", ")+"."):"",r.a.createElement(ue.a,{color:"secondary",onClick:e.closeRoutineForm,autoFocus:!0},r.a.createElement(pe.a,null),"CLOSE"),r.a.createElement(ue.a,{color:"primary",onClick:e.createRoutine,autoFocus:!0},r.a.createElement(me.a,null),"CREATE")))}var fe=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).setSelectState=function(e,t){var n=a.state.parametersInput;n[t]=e,a.setState({parametersInput:n})},a.setInputState=function(e,t,n){var r=a.state.parametersInput;r[t]=n?parseInt(e.target.value):e.target.value,a.setState({parametersInput:r})},a.createRoutine=function(){var e=a.state.parametersInput,t=[];Object.keys(a.state.routineParams).forEach((function(n){e[n]&&""!==e[n].toString().trim()||t.push(n)})),0===t.length?(a.props.createRoutine({routine_type_name:a.props.routineData.name,routine_type:a.props.routineData.type,params:Object(ee.a)({},e)}),a.props.closeRoutineForm()):a.setState({notFilledFields:t})},a.getParams=Object(w.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getRoutineParams(a.props.routineData.name);case 2:t=e.sent,a.setState({routineParams:t});case 4:case"end":return e.stop()}}),e)}))),a.state={routineParams:{},notFilledFields:[],parametersInput:{}},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=Object(w.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getParams();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(he,{selectedComponent:this.props.selectedComponent,routineData:this.props.routineData,routineParams:this.state.routineParams,createComponent:this.createComponent,createRoutine:this.createRoutine,closeRoutineForm:this.props.closeRoutineForm,notFilledFields:this.state.notFilledFields,setInputState:this.setInputState,setSelectState:this.setSelectState,components:this.props.components})}}]),n}(a.Component);function Ee(e){var t,n,a=e.sideBarWidth?e.sideBarWidth:240,o=Object(f.a)((function(e){return{sideBar:{width:a,flexShrink:0},sideBarOpen:{width:a,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},sideBarClose:{overflowX:"hidden",width:0,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},chevronButton:{justifyContent:"flex-start"},routine:{cursor:"pointer","&:hover":{color:"blue"}},menuCaption:{marginTop:"0.3em",fontFamily:"Roboto Thin",textAlign:"center"},credits:{marginTop:"75%",textAlign:"center",fontStyle:"italic"}}}))();return r.a.createElement("div",null,r.a.createElement(q.a,{className:Object(h.default)(o.drawer,(t={},Object(g.a)(t,o.sideBarOpen,e.isSideBarOpen),Object(g.a)(t,o.sideBarClose,!e.isSideBarOpen),t)),classes:{paper:Object(h.default)((n={},Object(g.a)(n,o.sideBarOpen,e.isSideBarOpen),Object(g.a)(n,o.sideBarClose,!e.isSideBarOpen),n))},variant:"permanent",open:e.isSideBarOpen,onClose:e.toggleSideBar},r.a.createElement(C.a,{variant:"h4",className:o.menuCaption},"MENU"),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,a=Object.keys(t).map((function(e,n){var a=t[e],o=a.icon;return r.a.createElement(z.a,{component:d.b,to:a.path,exact:!0,button:!0,key:a.dispName,activeClassName:"Mui-selected"},r.a.createElement(Y.a,null,r.a.createElement(o,null)),r.a.createElement(G.a,{primary:a.dispName}))})),i=null;if(n){var s=de.checkForRoutineType(e.selectedComponent,H.HasToBeLast);i=n.map((function(t){var n=!1;(!e.selectedComponent||s||t.type!==H.HasToBeFirst&&t.type!==H.HasToBeLast&&!de.checkForRoutineType(e.selectedComponent,H.HasToBeFirst)||t.type===H.HasToBeFirst&&de.checkForRoutineType(e.selectedComponent,H.HasToBeFirst))&&(n=!0);var a={disabled:n,onClick:n?void 0:function(){return e.toggleRoutineForm(t,!0)}};return r.a.createElement(z.a,Object.assign({},a,{className:!n&&o.routine}),r.a.createElement(Y.a,null,r.a.createElement(X.a,null)),r.a.createElement(G.a,{primary:t.name}))}))}return r.a.createElement("div",{style:{marginTop:"0.3em"}},r.a.createElement(V.a,null,a),r.a.createElement(Q.a,null),i&&r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement(z.a,null,r.a.createElement(Y.a,null,r.a.createElement($.a,null)),r.a.createElement(G.a,{primary:r.a.createElement("b",null,"ROUTINES")})),r.a.createElement(V.a,null,i)))}(e.routes,e.routinesList),r.a.createElement("div",{className:o.credits},"PipeRTManager V1.0 \xa9 2020")),e.displayRoutineForm&&r.a.createElement(fe,{selectedComponent:e.selectedComponent,routineData:e.routineData,createRoutine:e.createRoutine,listQueueInRoutines:e.queueInRoutine,closeRoutineForm:function(){return e.toggleRoutineForm(null,!1)},components:e.components}),r.a.createElement(J.a,{open:!e.isComponentSelected},r.a.createElement(Z.a,{variant:"filled",severity:"info"},r.a.createElement("b",null,"CREATE-A-ROUTINE:")," YOU SHOULD SELECT A COMPONENT FIRST.")))}var be=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).toggleRoutineForm=function(e,t){t?a.props.isComponentSelected?a.setState({isComponentSelected:!0,displayRoutineForm:!0,routineData:e}):a.setState({isComponentSelected:!1}):a.setState({displayRoutineForm:!1})},a.getAllRoutines=Object(w.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getRoutines();case 2:t=e.sent,a.setState({routinesList:t});case 4:case"end":return e.stop()}}),e)}))),a.state={routinesList:[],displayRoutineForm:!1,isComponentSelected:!0},a.getAllRoutines(),a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(Ee,{sideBarWidth:this.props.sideBarWidth,isSideBarOpen:this.props.isSideBarOpen,toggleSideBar:this.props.toggleSideBar,routes:this.props.routes,routinesList:this.state.routinesList,displayRoutineForm:this.state.displayRoutineForm,toggleRoutineForm:this.toggleRoutineForm,routineData:this.state.routineData,createRoutine:this.props.createRoutine,isComponentSelected:this.state.isComponentSelected,selectedComponent:this.props.selectedComponent,components:this.props.components})}}]),n}(a.Component),ve=n(152),Se=n(282),Oe=n(84),Ce=n(311),ye=n(310),Re=n(305),Ne=n(308),Ie=n(309),Te=n(306),je=n(307);function we(e){return r.a.createElement(re.a,{open:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(oe.a,{id:"alert-dialog-title"},"CREATE-A-COMPONENT"),r.a.createElement(ie.a,null,r.a.createElement(se.a,{id:"alert-dialog-description"},"HOW DO YOU WANT TO CALL YOUR BRAND NEW COMPONENT?"),r.a.createElement(ae.a,{label:"TYPE HERE...",onChange:function(t){return e.setInputState(t)}})),r.a.createElement(ce.a,null,r.a.createElement(ue.a,{color:"secondary",onClick:function(){return e.toggleComponentForm(!1)},autoFocus:!0},r.a.createElement(pe.a,null),"CLOSE"),r.a.createElement(ue.a,{color:"primary",onClick:e.createComponent,autoFocus:!0},r.a.createElement(me.a,null),"CREATE")))}var Pe=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).setInputState=function(e){a.setState({componentName:e.target.value})},a.createComponent=function(){var e=a.state.componentName;""===e&&(e="Untitled Component"),a.props.createComponent(e)},a.state={componentName:""},a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(we,{toggleComponentForm:this.props.toggleComponentForm,createComponent:this.createComponent,setInputState:this.setInputState})}}]),n}(a.Component),Fe=n(151),Ae=n(300),ke=n(301),Le=n(303),De=n(5),Be=n(302),_e=(n(219),n(220),n(147)),Me=n.n(_e),xe=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onResize=function(){a.jsPlumbInstance.repaintEverything()},a.deleteComponent=function(){a.jsPlumbLib.reset(),a.jsPlumbInstance.reset(),a.props.deleteComponent()},a.state={},a}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(){var e=this;if(this.props.routineList){this.jsPlumbInstance.reset(),this.jsPlumbLib.reset(),this.jsPlumbInstance.importDefaults({Connector:["Straight"],Anchors:["Right","LeftMiddle"],Overlays:[["Arrow",{location:1}]]});for(var t=function(t){var n=e.props.componentData.name+"_item_"+t,a=e.props.componentData.name+"_item_"+(t+1);e.props.nodeRefs[n]&&e.props.nodeRefs[a]&&e.props.linkList.forEach((function(t){t.source===n&&t.target===a&&e.jsPlumbInstance.connect({source:e.props.nodeRefs[n].current,target:e.props.nodeRefs[a].current,endpoint:"Blank",anchor:"Continuous",overlays:[["Label",{label:t.link,location:[.5],cssClass:"endpointSourceLabel"}]]})}))},n=0;n<this.props.routineList.length;n++)t(n);setTimeout((function(){e.onResize()}),200)}}},{key:"componentDidMount",value:function(){this.jsPlumbLib=Me.a.jsPlumb,this.jsPlumbInstance=this.jsPlumbLib.getInstance(),window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){this.jsPlumbLib.reset(),this.jsPlumbInstance.reset()}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement(O.a,{item:!0,className:t.gridItem,xs:4},r.a.createElement(Ae.a,{className:Object(h.default)(Object(g.a)({},t.glow,this.props.isSelected))},r.a.createElement(ke.a,{subheader:r.a.createElement(r.a.Fragment,null,this.props.componentData.name,r.a.createElement(Be.a,{onClick:this.deleteComponent,className:t.closeButton}))}),r.a.createElement(Le.a,{onClick:function(){return e.props.changeSelected(e.props.componentData)},className:t.componentCard},!this.props.componentData.routines||Array.isArray(this.props.componentData.routines)&&0===this.props.componentData.routines.length?r.a.createElement("div",{className:t.emptyComponent},r.a.createElement("div",null,r.a.createElement(C.a,{className:t.thinText,variant:"h5"},"IT'S LONELY IN HERE... \ud83d\ude43")),r.a.createElement("div",null,r.a.createElement(C.a,{variant:"h5"},"ADD SOME ROUTINES TO THE MIX!")),r.a.createElement("div",null,r.a.createElement(C.a,{variant:"subtitle2"},"(CLICK ME!)"))):r.a.createElement(Fe.a,{handleWidth:!0,handleHeight:!0,onResize:this.onResize},r.a.createElement(r.a.Fragment,null,this.props.children)))))}}]),n}(a.Component),We=Object(De.a)((function(){return{gridItem:{marginBottom:"1.5em",cursor:"initial"},glow:{border:"2.5px solid rgb(86, 180, 239)",boxShadow:"0px 1px 3px rgba(0, 0, 0, 0.05) inset, 0px 0px 8px rgba(82, 168, 236, 0.6)"},closeButton:Object(g.a)({cursor:"pointer",float:"right",width:"20px"},"cursor","pointer"),componentCard:{backgroundColor:"#b5b5b533",cursor:"pointer"},emptyComponent:{textAlign:"center",marginBottom:"2.5em"},thinText:{fontFamily:"Roboto Thin"}}}))(xe),He=n(304),Ke=r.a.forwardRef((function(e,t){var n=Object(f.a)((function(t){return{cardItem:{textAlign:"left",float:"left",background:e.nodeColor},cardHeader:{padding:"0.3rem",backgroundColor:"black"},cardContent:{textAlign:"center",padding:"0.3rem",cursor:"pointer",color:"white",fontSize:"0.7em","&:last-child":{paddingBottom:0}},cardFooter:{textAlign:"right",marginTop:"20%",fontSize:"0.8rem"},powerLogo:{fontSize:"0.8rem"}}}))();Object(E.a)();return r.a.createElement(Ae.a,{variant:"outlined",className:n.cardItem},r.a.createElement(ke.a,{className:n.cardHeader,subheader:e.routineName,subheaderTypographyProps:{variant:"subtitle2",style:{color:"white"}}}),r.a.createElement(Le.a,{className:n.cardContent,ref:t},r.a.createElement("div",null,e.routineTypeName),r.a.createElement("div",{className:n.cardFooter},r.a.createElement(He.a,{className:n.powerLogo}),"\xa0",e.ports)))})),Ue=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).composeLinks=function(){var e=[];if(a.state.routineList)for(var t=a.state.routineList,n=0;n<t.length-1;n++){var r=t[n],o=t[n+1];if(r.params.hasOwnProperty(_)&&o.params.hasOwnProperty(B)&&r.params[_]===o.params[B]){var i=a.props.componentData.name+"_item_"+n,s=a.props.componentData.name+"_item_"+(n+1);e.push({source:i,target:s,link:r.params[_]})}}return e},a.createNodesDOM=function(){if(a.state.routineList){var e=a.state.routineList.map((function(e,t){a.baseNodeRefs[a.props.componentData.name+"_item_"+t]=r.a.createRef();var n=["green","red","blue","orange","grey","purple"][t%6];n="linear-gradient(90deg, #343434 0%, "+n+" 100%)";var o=[];return e.params[B]&&o.push("In"),e.params[_]&&o.push("Out"),0===o.length&&o.push("None"),r.a.createElement(Ke,{key:"Node"+t,ref:a.baseNodeRefs[a.props.componentData.name+"_item_"+t],nodeColor:n,routineName:e.params.name,routineTypeName:e.routine_type_name,ports:o.join("/")})}));return r.a.createElement("div",{className:"flex-container"},e)}return null},a.deleteComponent=function(){a.props.deleteComponent(a.props.componentData)},a.state={},a.baseNodeRefs={},a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.setState({nodeRefs:this.baseNodeRefs,routineList:this.props.componentData.routines?Object(te.a)(this.props.componentData.routines):[]})}},{key:"componentWillReceiveProps",value:function(e){this.setState({routineList:e.componentData.routines?Object(te.a)(e.componentData.routines):[]})}},{key:"render",value:function(){return r.a.createElement(We,{isSelected:this.props.componentData&&this.props.componentData.isSelected,componentData:this.props.componentData,changeSelected:this.props.changeSelected,deleteComponent:this.deleteComponent,routineList:this.state.routineList,linkList:this.composeLinks(),nodeRefs:this.state.nodeRefs},this.createNodesDOM())}}]),n}(a.Component),ze=Object(f.a)((function(e){return{title:{fontSize:"2em",textAlign:"center"},arrowMargin:{marginTop:"4em",textAlign:"center"},redisLogo:{marginTop:"4.5em",height:"4em"},arrow:{height:"3em"}}}));function Ye(e){var t=ze(),n=(Object(E.a)(),function(e,n,a){if(!e||!e.redisKeys||!e.streamKeys)return null;var o=[],i=[];if(n){if(!e.redisKeys.redisIn&&!e.streamKeys.streamIn)return null;e.redisKeys.redisIn&&(o.push("REDIS"),i.push(e.redisKeys.redisIn)),e.streamKeys.streamIn&&(o.push("STREAM"),i.push(e.streamKeys.streamIn.substring(0,Math.min(e.streamKeys.streamIn.length,14))+"..."))}else{if(!e.redisKeys.redisOut&&!e.streamKeys.streamOut)return null;e.redisKeys.redisOut&&(o.push("REDIS"),i.push(e.redisKeys.redisOut)),e.streamKeys.streamOut&&(o.push("STREAM"),i.push(e.streamKeys.streamOut.substring(0,Math.min(e.streamKeys.streamOut.length,14))+"..."))}return{hasRedis:o.includes("REDIS"),html:r.a.createElement(r.a.Fragment,null,n&&o.includes("REDIS")&&!a&&r.a.createElement(O.a,{item:!0,tag:"redis"},r.a.createElement("img",{src:"./images/redisLogo.png",className:t.redisLogo})),r.a.createElement(O.a,{item:!0},r.a.createElement("div",{className:t.arrowMargin},r.a.createElement(C.a,{variant:"subtitle2"},r.a.createElement("b",null,"TYPE:")," ",o.join(", ")),r.a.createElement("div",null,r.a.createElement("img",{className:t.arrow,src:"./images/arrow.png"})),r.a.createElement(C.a,{variant:"subtitle2"},r.a.createElement("b",null,"KEY:")," ",i.join(", ")))),!n&&o.includes("REDIS")&&r.a.createElement(O.a,{item:!0,tag:"redis"},r.a.createElement("img",{src:"./images/redisLogo.png",className:t.redisLogo})))}});return r.a.createElement(O.a,{container:!0,spacing:1},function(t){var a=new Array(t.length).fill(!1);return t.map((function(o,i){o.routines||(o.routines=[]);var s=e.getComponentIO(t[i]),l=null;l=(l=i>0&&a[i-1]?n(s,!0,!0):n(s,!0))&&l.html;var c=n(s,!1);return c&&(a[i]=c.hasRedis),c=c&&c.html,r.a.createElement(r.a.Fragment,{key:"Comp"+i},l,r.a.createElement(Ue,{changeSelected:e.changeSelectedComponent,componentData:o,deleteComponent:e.deleteComponent}),c)}))}(e.components))}var Ge=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).getComponentIO=function(e){var t={streamIn:null,streamOut:null},n={redisIn:null,redisOut:null};if(!e.routines||!Array.isArray(e.routines)||0===e.routines.length)return{streamKeys:t,redisKeys:n};var a=e.routines[0],r=e.routines[e.routines.length-1];return a.params&&a.params[M]&&(n.redisIn=a.params[M]),a.params&&a.params.url&&(t.streamIn=a.params.url),r.params&&r.params[x]&&(n.redisOut=r.params[x]),{streamKeys:t,redisKeys:n}},a.state={},a}return Object(l.a)(n,[{key:"setSelectedComponent",value:function(){var e=this;if(this.props.components)return this.props.components.map((function(t){return e.props.selectedComponent&&t.name===e.props.selectedComponent.name?Object(ee.a)({},t,{isSelected:!0}):Object(ee.a)({},t,{isSelected:!1})}))}},{key:"render",value:function(){return r.a.createElement(Ye,{changeSelectedComponent:this.props.changeSelectedComponent,components:this.setSelectedComponent(),deleteComponent:this.props.deleteComponent,getComponentIO:this.getComponentIO})}}]),n}(a.Component);function Ve(e){var t=Object(f.a)((function(e){return{yamlBrowse:{marginTop:"1em"},cachedButton:{fontSize:"1.5em"},yamlButton:{marginLeft:"1.5em"},dialogTitle:{borderBottomColor:"black",borderBottomStyle:"solid",borderBottomWidth:"0.01rem"},dialog:{overflowY:"auto"},dialogActions:{borderTopColor:"black",borderTopStyle:"solid",borderTopWidth:"0.01rem",background:"linear-gradient(90deg, #b2b2b2 0%, white 40%, white 70%)"}}}))();return r.a.createElement(re.a,{className:t.dialogBorder,open:!0,fullWidth:!0,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(oe.a,{className:t.dialogTitle,id:"alert-dialog-title"},"LOAD-A-PIPELINE"),r.a.createElement(ie.a,{className:t.dialog},r.a.createElement(se.a,{id:"alert-dialog-description"},"CHOOSE AN OPTION:"),r.a.createElement(O.a,{container:!0,alignItems:"center",justify:"center",spacing:2},r.a.createElement(O.a,{item:!0,xs:5},r.a.createElement(ue.a,{size:"large",className:t.cachedButton,variant:"contained",color:"CACHED"===e.selectedOption?"primary":"inherit",disabled:!e.isLocalStorageAvailable(),onClick:function(){return e.changeSelected("CACHED")}},"LOAD CACHED PIPELINE")),r.a.createElement(O.a,{item:!0,xs:5},r.a.createElement(ue.a,{size:"large",className:t.yamlButton,variant:"contained",color:"YAML"===e.selectedOption?"primary":"inherit",onClick:function(){return e.changeSelected("YAML")}},"LOAD .YAML FILE"),r.a.createElement(ne.a,{className:t.yamlBrowse,disabled:"YAML"!==e.selectedOption,type:"file",onChange:e.onFileChange,inputProps:{accept:".yaml,.yml"}})))),r.a.createElement(ce.a,null,r.a.createElement(ue.a,{color:"secondary",onClick:e.togglePipelineForm,autoFocus:!0},r.a.createElement(pe.a,null),"CLOSE"),r.a.createElement(ue.a,{disabled:!e.selectedOption||"YAML"===e.selectedOption&&!e.chosenFile,onClick:e.loadPipeline,color:"primary",autoFocus:!0},r.a.createElement(me.a,null),"LOAD")))}var Qe=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).isLocalStorageAvailable=function(){return localStorage.getItem("lastPipeline")},a.changeSelected=function(e){a.setState({selectedOption:e})},a.onFileChange=function(e){a.setState({chosenFile:e.target.files[0]})},a.loadPipeline=function(){if("CACHED"===a.state.selectedOption)a.props.loadPipeline(localStorage.getItem("lastPipeline"),!1);else{var e=new FileReader;e.onloadend=function(e){a.props.loadPipeline(e.target&&e.target.result,!0)},e.readAsText(a.state.chosenFile)}a.props.togglePipelineForm()},a.state={selectedOption:null},a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(Ve,{togglePipelineForm:this.props.togglePipelineForm,changeSelected:this.changeSelected,selectedOption:this.state.selectedOption,onFileChange:this.onFileChange,loadPipeline:this.loadPipeline,chosenFile:this.state.chosenFile,isLocalStorageAvailable:this.isLocalStorageAvailable})}}]),n}(a.Component),qe=["GIVING IT A TRY","TRYING MY BEST","HOLD ON TIGHT","JUST A SECOND"];function Je(e){var t=Object(f.a)((function(e){return{content:{flexGrow:1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen}),marginLeft:50,marginRight:50},contentShift:{marginLeft:260,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},componentFab:{position:"absolute",bottom:e.spacing(17),right:e.spacing(2),minWidth:"20em"},pipelineOptions:{position:"absolute",bottom:e.spacing(13),right:e.spacing(11)},loadFab:{position:"absolute",bottom:e.spacing(6),right:e.spacing(26)},killFab:{position:"absolute",bottom:e.spacing(6),right:e.spacing(14.5)},saveFab:{position:"absolute",bottom:e.spacing(6),right:e.spacing(2),backgroundColor:"#81c784"},spinner:{textAlign:"center",position:"absolute",bottom:e.spacing(25),right:e.spacing(11)},credits:{position:"absolute",bottom:e.spacing(1),right:e.spacing(5),backgroundColor:"#c5c5c52e",borderRadius:"5em",paddingLeft:"0.4em",paddingRight:"0.4em",fontStyle:"italic"},emptyWorkArea:{minHeight:"80vh"},thinText:{fontFamily:"Roboto Thin"}}}))();return r.a.createElement("div",{className:Object(h.default)(t.content,Object(g.a)({},t.contentShift,e.isSideBarOpen))},r.a.createElement(J.a,{open:e.showSuccessMessage,autoHideDuration:6e3,onClose:e.toggleSuccessMessage},r.a.createElement(Z.a,{variant:"filled",severity:"success"},r.a.createElement("b",null,"PIPELINE IS ",e.successMessage?e.successMessage:"SAVED"," ","SUCCESSFULLY! \ud83d\ude0a"))),r.a.createElement(J.a,{open:e.showErrorMessage,autoHideDuration:6e3,onClose:e.toggleErrorMessage},r.a.createElement(Z.a,{variant:"filled",severity:"error"},r.a.createElement("b",null,"PIPELINE COULD NOT BE"," ",e.errorMessage?e.errorMessage:"SAVED"," \ud83d\ude14 ","PLEASE TRY AGAIN LATER."))),0===e.components.length?r.a.createElement("div",null,r.a.createElement(O.a,{container:!0,spacing:16,direction:"column",alignItems:"center",justify:"center",className:t.emptyWorkArea},r.a.createElement("div",null,r.a.createElement(C.a,{className:t.thinText,variant:"h3"},"YOUR WORK AREA IS EMPTY.")),r.a.createElement("div",null,r.a.createElement(C.a,{variant:"h2"},"TRY CREATING A COMPONENT!")))):r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(Ge,{components:e.components,routines:e.routines,changeSelectedComponent:e.changeSelectedComponent,selectedComponent:e.selectedComponent,deleteComponent:e.deleteComponent})),e.showComponentForm&&r.a.createElement(Pe,{createComponent:e.createComponent,toggleComponentForm:e.toggleComponentForm}),e.showPipelineForm&&r.a.createElement(Qe,{loadPipeline:e.loadPipeline,togglePipelineForm:e.togglePipelineForm}),r.a.createElement(Re.a,{disabled:e.components.length>=6,onClick:function(){return e.toggleComponentForm(!0)},className:t.componentFab,size:"large",color:"primary",variant:"extended","aria-label":"add"},r.a.createElement(Te.a,null),"COMPONENT"),r.a.createElement("div",{className:t.pipelineOptions},r.a.createElement("b",null,"PIPELINE OPTIONS:")),r.a.createElement(Re.a,{onClick:function(){return e.togglePipelineForm()},className:t.loadFab,size:"large",color:"primary",variant:"extended","aria-label":"add"},r.a.createElement(je.a,null),"LOAD"),r.a.createElement(Re.a,{disabled:e.components.length<1,onClick:e.killPipeline,className:t.killFab,size:"large",color:"secondary",variant:"extended","aria-label":"add"},r.a.createElement(pe.a,null),"KILL"),r.a.createElement(Re.a,{disabled:e.components.length<1,onClick:e.savePipeline,className:t.saveFab,size:"large",color:"inherit",variant:"extended","aria-label":"add"},r.a.createElement(me.a,null),"SAVE"),e.showSpinner&&r.a.createElement("div",{className:t.spinner},r.a.createElement(Ne.a,{size:"1.5rem"}),r.a.createElement(C.a,{variant:"subtitle1"},r.a.createElement("b",null,qe[Math.floor(Math.random()*qe.length)]+"..."))),r.a.createElement(C.a,{className:t.credits},"PipeRT \xa9 2020\xa0",r.a.createElement(Ie.a,{href:"https://github.com/ItamarWilf/PipeRT"},"Visit our GitHub")))}var Xe=n(116),$e=n.n(Xe),Ze=n(150),et=n.n(Ze),tt={home:{dispName:"WORK AREA",path:"/",component:function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).toggleSpinner=function(e){var t=!a.state.showSpinner;"ON"===e?t=!0:"OFF"===e&&(t=!1),a.setState({showSpinner:t})},a.togglePipelineForm=function(){a.setState({showPipelineForm:!a.state.showPipelineForm})},a.loadPipeline=function(){var e=Object(w.a)(j.a.mark((function e(t,n){var r,o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.getRoutines();case 2:o=e.sent,i={},o.forEach((function(e){i[e.name]=e.type})),r=n?(r=et.a.load(t)).map((function(e){return{name:e.name,routines:e.routines&&e.routines.map((function(e){var t=Object(ee.a)({},e);return delete t.routine_type_name,{routine_type_name:e.routine_type_name,routine_type:i[e.routine_type_name],params:Object(ee.a)({},t)}}))}})):JSON.parse(t),a.props.setPipeline(r);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.killPipeline=function(){a.toggleSpinner("ON"),K.killPipeline().then((function(){a.toggleSuccessMessage("KILLED"),a.toggleSpinner("OFF")})).catch((function(){a.toggleErrorMessage("KILLED"),a.toggleSpinner("OFF")}))},a.savePipeline=function(){a.toggleSpinner("ON");var e=Object(te.a)(a.props.components),t=[];Array.isArray(e)&&e.length>0&&(localStorage.setItem("lastPipeline",JSON.stringify(e)),e.forEach((function(e,n){if(t.push({name:e.name,queues:[]}),Array.isArray(e.routines)&&e.routines.length>0){t[n].routines=[];for(var a=function(a){var r=e.routines[a];t[n].routines.push(Object(ee.a)({routine_type_name:r.routine_type_name},r.params)),Object.keys(r.params).forEach((function(e){var a=r.params[e];t[n].queues.includes(a)||e!==B&&e!==_||t[n].queues.push(a)}))},r=0;r<e.routines.length;r++)a(r)}}))),K.savePipeline(t).then((function(){if(window.navigator&&window.navigator.msSaveOrOpenBlob){var e=new Blob([decodeURIComponent(encodeURI($e.a.stringify(t)))],{type:"application/text;charset=utf-8;"});navigator.msSaveOrOpenBlob(e,"PipelineExport.yaml")}else{var n=document.createElement("a");n.download="PipelineExport.yaml",n.href="data:application/text;charset=utf-8;,"+encodeURIComponent($e.a.stringify(t)),n.target="_blank",document.body.appendChild(n),n.click(),document.body.removeChild(n)}a.toggleSuccessMessage("SAVED"),a.toggleSpinner("OFF")})).catch((function(){a.toggleErrorMessage("SAVED"),a.toggleSpinner("OFF")}))},a.toggleErrorMessage=function(e){a.setState({errorMessage:"string"===typeof e?e.toString():a.state.errorMessage,showErrorMessage:!a.state.showErrorMessage})},a.toggleSuccessMessage=function(e){a.setState({successMessage:"string"===typeof e?e.toString():a.state.successMessage,showSuccessMessage:!a.state.showSuccessMessage})},a.state={successMessage:"",showSuccessMessage:!1,showPipelineForm:!1,showSpinner:!1},a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(Je,{togglePipelineForm:this.togglePipelineForm,loadPipeline:this.loadPipeline,savePipeline:this.savePipeline,killPipeline:this.killPipeline,changeSelectedComponent:this.props.changeSelectedComponent,createComponent:this.props.createComponent,createRoutine:this.props.createRoutine,toggleComponentForm:this.props.toggleComponentForm,components:this.props.components,isSideBarOpen:this.props.isSideBarOpen,showComponentForm:this.props.showComponentForm,showPipelineForm:this.state.showPipelineForm,selectedComponent:this.props.selectedComponent,deleteComponent:this.props.deleteComponent,showSuccessMessage:this.state.showSuccessMessage,showErrorMessage:this.state.showErrorMessage,toggleSuccessMessage:this.toggleSuccessMessage,toggleErrorMessage:this.toggleErrorMessage,successMessage:this.state.successMessage,errorMessage:this.state.errorMessage,showSpinner:this.state.showSpinner})}}]),n}(a.Component),icon:ye.a}},nt=Object(ve.a)({palette:{primary:{main:"#2296f3"}},typography:{fontFamily:"Roboto, Arial"},overrides:{MuiCssBaseline:{"@global":{body:{backgroundImage:"url(./images/backgroundImage.jpg)",backgroundSize:"cover"}}}}}),at=function(e){Object(p.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).setPipeline=function(e){a.setState({components:e})},a.createComponent=function(e){a.setState({components:de.createComponent(a.state.components,e)}),a.toggleComponentForm(!1)},a.deleteComponent=function(e){a.setState({components:de.deleteComponent(a.state.components,e.name)}),a.state.selectedComponent&&e.name===a.state.selectedComponent.name&&a.changeSelectedComponent(null)},a.changeSelectedComponent=function(e){e&&e.name?(a.setState({selectedComponent:e}),a.setComponentSelectedState(!0)):(a.setState({selectedComponent:null}),a.setComponentSelectedState(!1))},a.setComponentSelectedState=function(e){a.setState({isComponentSelected:e})},a.toggleComponentForm=function(e){a.setState({showComponentForm:e})},a.createRoutine=function(e){var t=de.createRoutine(a.state.components,a.state.selectedComponent.name,e),n=t.components,r=t.updatedComponent;a.setState({components:n}),a.changeSelectedComponent(r)},a.toggleSideBar=function(){a.setState({isSideBarOpen:!a.state.isSideBarOpen})},a.createRoutes=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map(function(t){var n=this,a=e[t],o=a.component;return a.explicit?r.a.createElement(m.a,{exact:!0,path:a.path,render:function(){return r.a.createElement(o,{isSideBarOpen:!0})}}):r.a.createElement(m.a,{path:a.path,render:function(){return r.a.createElement(o,{changeSelectedComponent:n.changeSelectedComponent,createComponent:n.createComponent,createRoutine:n.createRoutine,toggleComponentForm:n.toggleComponentForm,components:n.state.components,showComponentForm:n.state.showComponentForm,selectedComponent:n.state.selectedComponent,deleteComponent:n.deleteComponent,isSideBarOpen:!0,setPipeline:n.setPipeline})}})}.bind(Object(c.a)(a)))},a.state={components:[],showComponentForm:!1,selectedComponent:null,isSideBarOpen:!1,isComponentSelected:!1},a}return Object(l.a)(n,[{key:"render",value:function(){return r.a.createElement(Se.a,{theme:nt},r.a.createElement(Oe.b,null,r.a.createElement(Ce.a,null),r.a.createElement(d.a,null,r.a.createElement(U,{isSideBarOpen:!0,toggleSideBar:this.toggleSideBar}),r.a.createElement(be,{components:this.state.components,selectedComponent:this.state.selectedComponent,routes:tt,toggleSideBar:this.toggleSideBar,isSideBarOpen:!0,createRoutine:this.createRoutine,isComponentSelected:this.state.isComponentSelected}),r.a.createElement(m.c,null,this.createRoutes(tt)))))}}]),n}(a.Component),rt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ot(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(at,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");rt?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ot(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ot(t,e)}))}}()}},[[167,1,2]]]);
//# sourceMappingURL=main.8a4f01d8.chunk.js.map